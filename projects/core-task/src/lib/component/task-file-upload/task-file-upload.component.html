<div #taskFileUploadParentContainer  class="default-drop-zone">
    <label class="title">{{title}}</label>
    <div fxLayout="row" fxLayoutAlign="center center" >
            <input type="file" #taskFileInput style="display: none;">            
            <div *ngIf="!uploadStarted" id="task-file-upload-dropzone" fxLayout="column" fxLayoutAlign="center center" >
                <div><mat-icon>cloud_upload</mat-icon></div>                        
                <div class="title">{{initialMessage}}</div>
            </div>
    </div>
    <div  fxFill fxLayout="column" *ngFor = 'let fileUpload of fileUploadObservable$ | async' >
        <div fxFill fxLayout="column" *ngIf="(fileUpload.progress.state === 3 || fileUpload.progress.state === 4) && !fileUpload.isDeleted">
            <div fxFill fxLayout="row"  >
                <p fxFlex="30" *ngIf = '!fileUpload.error' ><a href="" target="_blank">{{fileUpload.file.name}}</a></p>
                <p fxFlex="30" *ngIf = 'fileUpload.error' >{{fileUpload.file.name}}</p>
                <button  mat-button (click) = 'delete(fileUpload, $event)'>
                    <mat-icon >delete</mat-icon>
                </button>                                        
            </div>
            <div *ngIf = 'fileUpload.error' class="error">{{fileUpload.error.message}}</div>  
        </div>
        <div *ngIf="fileUpload.progress.state === 2">
            <p>{{fileUpload.file.name}} {{fileUpload.progress.formattedValue}}</p>             
            <mat-progress-bar class="app-progress" aria-label ='' mode="determinate" value="{{fileUpload.progress.percent}}"></mat-progress-bar>
            <p *ngIf = '!fileUpload.error'>{{fileUpload.response.body}}</p>
        </div>
    </div>
</div>  
